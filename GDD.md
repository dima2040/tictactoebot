# Game Design Document (GDD) для игры "Крестики-нолики в Телеграмме"

## Обзор (High-level Overview)

### Название игры

- TicTacToeBot

### Платформа

- Телеграмм бот

### Жанр

- Головоломка / Социальная игра

### Видение игры

Классическая игра крестики-нолики, доступная прямо в Телеграмм через удобный интерфейс бота. Игру можно играть как с друзьями, так и против искусственного интеллекта.

## Геймплей

### Основные механики

- Игроки по очереди помещают свой символ (крестик или нолик или другой в соответствии с выбраным скином) в одну из свободных ячеек на игровом поле размером 3x3.
- Цель игры - выстроить три своих символа в ряд вертикально, горизонтально или диагонально.
- Игра завершается победой одного из игроков или ничьей, если свободных клеток на поле не осталось.

#### Игровой процесс

1. Инициация игры:
   - Пользователь вызывает бота в Телеграмм через команду /start.
   - Бот предлагает выбрать режим игры (против другого игрока или AI) и, в случае игры с другом, предлагает выбрать игрока из конктактов которому отправится запрос на присоединение к игре.

2. Ход игры:
   - После выбора режима и подтверждения вторым игроком (в случае игры с другом) начинается игра.
   - Игроки по очереди делают ходы, выбирая клетки на игровом поле через инлайн-клавиатуру бота. Позиции отмечаются в зависимости от выбора игрока (крестик или нолик).
   - Бот отображает текущее состояние игрового поля после каждого хода, обновляя его в чате.

3. Проверка условий выигрыша:
   - После каждого хода бот проверяет, собрал ли кто-то из игроков выигрышную комбинацию (три крестика или нолика в ряд вертикально, горизонтально или диагонально) или все клетки заполнены (что означает ничью).
   - Игра заканчивается объявлением результатов (победа одного из игроков или ничья).

#### Особенности механик

- Выбор первого хода: Случайно или выбор игрока в зависимости от режима игры. Может быть реализовано через предварительный "подброс монетки" внутри бота для определения, кто начнет игру.
- Уровни сложности AI: В случае игры против компьютера, игроки могут выбрать легкий или сложный уровень интеллекта AI для увеличения интереса и реиграбельности.
- Таймер хода: Для удержания динамики игры и предотвращения затягивания матчей, может быть установлен таймер на ход. В случае превышения времени, ход автоматически переходит к сопернику или AI делает ход за игрока.
- Таким образом, основные механики игры "TicTacToeBot" предусматривают не только классические правила, но и добавляют елементы, способствующие увеличению интерактивности и вовлеченности игроков в процесс, такие как выбор сложности AI, таймер хода.

### Выбор языка бота

1. При первом использовании бота:
   - Когда пользователь впервые активирует бота, ему предлагается выбрать предпочитаемый язык из списка доступных. Это может быть реализовано через специальную команду (/language) или через кнопки инлайн-клавиатуры.
   - Выбранный язык сохраняется в профиле пользователя в базе данных и используется для всех будущих взаимодействий.

2. Смена языка:
   - Пользователи могут изменить язык в любое время, отправив боту команду смены языка или выбрав соответствующий пункт в меню настроек.

### Выбор уровня сложности игры с AI

1. Выбор перед началом игры:
   - Перед началом игры с AI пользователю предлагается выбрать уровень сложности (например, Легкий, Средний, Сложный), используя кнопки инлайн-клавиатуры.
   - Выбор уровня сложности определяет логику, с которой будет играть AI, варьируя от простых алгоритмов с случайными ходами до более продвинутых стратегий.

2. Реализация AI:
   - Легкий уровень может базироваться на случайном выборе свободных клеток без стратегического планирования.
   - Средний уровень может анализировать ходы пользователя и блокировать потенциальные выигрышные линии.
   - Сложный уровень использует алгоритм для определения оптимальных ходов, возможно, алгоритм минимакс с альфа-бета обрезкой для оптимизации.

### Выбор скинов для крестиков и ноликов

1. Меню настроек:
   - В меню настроек игры добавляется раздел, где пользователи могут выбрать скины для крестиков и ноликов из предложенного списка. Это могут быть различные цвета, формы или даже тематические картинки.
   - Выбранный скин применяется к игровому полю и сохраняется для использования в последующих играх.

2. Техническая реализация скинов:
   - Скины хранятся в виде ресурсов в базе данных бота.
   - При выборе определенного скина, бот динамически подгружает изображения для отображения в игровом интерфейсе.

### Общие замечания
Для сохранения настроек пользователя и предпочтений, информация о выборе языка, сложности AI и скина должна храниться в базе данных или в локальном хранилище, связанном с аккаунтом пользователя в Телеграмме. Это обеспечит удобство использования бота, поскольку пользователи не будут вынуждены повторять настройки при каждом новом сеансе игры.

### Команда с информацией о профиле

#### Реализация команды

- Игрок может запросить информацию о своём профиле, отправив боту команду, например, /profile или же выбрав соответствующий пункт в пользовательском интерфейсе бота.
- В ответ на команду бот представляет детальную информацию о профиле пользователя, включая статистику игр, количество побед/поражений/ничьих, текущий выбранный скин, язык интерфейса, достигнутые уровни сложности AI и достижения.

#### Содержимое профиля

- Имя пользователя: Отображаемое имя в Телеграмме.
- Статистика игр: Количество игр, побед, поражений и ничьих.
- Текущая настройка скинов: Отображение выбранных скинов для крестиков и ноликов.
- Выбранный язык: Текущий язык интерфейса.
- Достижения: Список разблокированных достижений с описаниями.

### Система достижений

#### Разработка достижений

- Достижения могут включать в себя выполнение определённых задач или достижение вех в игровом процессе, например, "Первая победа", "Победить AI на сложном уровне", "Одержать 100 побед", "Играть 7 дней подряд", и т.п.
- Каждое достижение сопровождается уникальной иконкой и описанием.

#### Реализация

- Система отслеживает игровую активность пользователя через обработку завершенных игр, выполненных действий и их исходов.
- При достижении определенных критериев система автоматически награждает пользователя достижением, отправляя уведомление с поздравлением и информацией о полученном достижении.
- В профиле пользователя отображается раздел с разблокированными достижениями, который становится частью его игровой идентичности.

#### Интеграция с профилем

- Достижения тесно связаны с профилем игрока, поскольку они отражают его прогресс и успехи.
- В профиле представлена секция, где игроки могут просматривать свои достижения и задачи, которые они ещё могут выполнить, чтобы получить новые.

#### Мотивация

- Система достижений мотивирует игроков продолжать играть, устанавливая дополнительные цели помимо основной игры.
- Разблокирование уникальных скинов или элементов интерфейса за определенные достижения может служить дополнительным стимулом для проявления активности и усердия в игре.

Таким образом, команда с информацией о профиле и система достижений добавят игре глубины, предоставляя пользователям цели для достижения и поощряя их за активное участие и умение находить подход к разным вызовам в игре.

### Игровые режимы

1. Игра против друга.
2. Игра против AI (с выбором сложности).

## Арт и Ассеты

### Визуальный стиль

- Иконки для крестиков и ноликов
- Возможность выбора "скина" с разными наборами крестиков и ноликов и (пустой ячейки?)
- Иконки для интерфейса бота из эмоджи(например 👤 и 👥).

## Техническая Реализация

### Платформа

- Бот для Телеграм.

### Язык программирования

- Python с использованием библиотеки aiogram.

### Интерфейс

- Чат-интерфейс для команд.
- Инлайн-клавиатуры для выбора ходов.

## Монетизация

### Методы монетизации

- Донаты на развитие проекта.
- Премиальные "скины" для фишек.

### Реклама

- Отсутствует; фокус на пользовательском опыте.

## Маркетинг и Распространение

### Стратегия

- Продвижение через социальные сети и сообщества Телеграмм.
- Бесплатное распространение с возможностью донатов.

### Пользовательская поддержка

- Чат поддержки в отдельном канале указанном в описании.
- FAQ и инструкции по использованию.
